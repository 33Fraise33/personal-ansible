http:
  services:
    ironman:
      loadBalancer:
        servers:
          - url: "https://10.33.0.1:8443"
          - url: "https://[2a12:4946:4000::1]:8443"
    proxmox:
      loadBalancer:
        servers:
          - url: "https://172.16.33.7:8006/"
    unifi-camera:
      loadBalancer:
        servers:
          - url: "https://172.16.53.2"
    accweb:
      loadBalancer:
        servers:
          - url: "http://172.16.33.9:8080"
    status:
      loadBalancer:
        servers:
          - url: "https://33fraise33.github.io"
  routers:
    ironman:
      rule: "Host(`ironman.frai.se`)"
      service: "ironman"
      tls:
        certResolver: le
        domains:
          - main: "*.frai.se"
    proxmox:
      rule: "Host(`proxmox.frai.se`)"
      service: "proxmox"
      tls:
        certResolver: le
        domains:
          - main: "*.frai.se"
    status:
      rule: "Host(`status.frai.se`)"
      service: "status"
      tls:
        certResolver: le
        domains:
          - main: "*.frai.se"
    unifi-camera:
      rule: "Host(`nvr.frai.se`)"
      service: "unifi-camera"
      tls:
        certResolver: le
        domains:
          - main: "*.frai.se"
    accweb:
      rule: "Host(`accweb.frai.se`)"
      service: "accweb"
      tls:
        certResolver: le
        domains:
          - main: "*.frai.se"
  middlewares:
    mywhitelist:
      ipWhiteList:
        sourceRange:
          # rfc1918
          - 10.0.0.0/8
          - 172.16.0.0/12
          - 192.168.0.0/16
          # cloudflare https://www.cloudflare.com/ips/
          - 173.245.48.0/20
          - 103.21.244.0/22
          - 103.22.200.0/22
          - 103.31.4.0/22
          - 141.101.64.0/18
          - 108.162.192.0/18
          - 190.93.240.0/20
          - 188.114.96.0/20
          - 197.234.240.0/22
          - 198.41.128.0/17
          - 162.158.0.0/15
          - 104.16.0.0/13
          - 104.24.0.0/14
          - 172.64.0.0/13
          - 131.0.72.0/22
